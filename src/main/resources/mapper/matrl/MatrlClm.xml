<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.pe.inface.hub.service.matrl.MatrlClmMapper">

<!-- 자재청구목록 조회 -->
<select id="getMatrlClmList" parameterType="String" resultType="MatrlClmVO"><![CDATA[
/* matrl.MatrlClmMapper.getMatrlClmList */
SELECT
        MATRL_CLM_NO, CMPNY_ID, WORK_SITE_ID
      , CLM_STAT_CD, CLM_DT
      , IN_HOPE_DTS, IN_ADDR, IN_GATE_NO
      , IN_CHARGE_NM, IN_CHARGE_TEL, IN_REMARK
FROM    MATRL_CLM CC
WHERE   1 = 1
AND     CC.CMPNY_ID = #{cmpnyId, jdbcType=VARCHAR}
AND     ( #{workSiteId, jdbcType=VARCHAR} IS NULL OR CC.WORK_SITE_ID = #{workSiteId, jdbcType=VARCHAR} )
AND     ( #{clmStatCd, jdbcType=VARCHAR} IS NULL OR CC.CLM_STAT_CD = #{clmStatCd, jdbcType=VARCHAR} )
AND     CLM_DT >= #{clmDt, jdbcType=VARCHAR}
ORDER BY
        CLM_DT DESC
      , MATRL_CLM_NO DESC
]]></select>

</mapper>